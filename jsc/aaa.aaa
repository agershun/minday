canvastype[BCG]=function(){return ACTIVE};childkind[BCG]=function(){return BCGENTITY};keyp[BCG]={};keyp[BCGENTITY]={};Idea.prototype.kindBCG=function(){var p,n,m,o,h,e,c,b,s,w,u,t,q,a,l,k,j,f,d;this.kind=BCG;this.row.kind=BCGROWS;this.row.pa=this;this.row.ix="row";this.column.kind=BCGCOLUMNS;this.column.pa=this;this.column.ix="column";if(this.row!=null){l=this.row.data;for(p=h=0,s=l.length;h<s;p=++h){n=l[p];n.kind=BCGROW;n.pa=this.row;n.ix=p}}if(this.column!=null){k=this.column.data;for(p=e=0,w=k.length;e<w;p=++e){n=k[p];n.kind=BCGCOLUMN;n.pa=this.column;n.ix=p}}j=this.data;for(m=c=0,u=j.length;c<u;m=++c){o=j[m];o.kind=BCGROWCELL;o.pa=this;o.ix=m;f=o.data;for(p=b=0,t=f.length;b<t;p=++b){n=f[p];o.kind=BCGCELL;o.pa=this;o.ix=p}}d=this.entity.data;for(p=a=0,q=d.length;a<q;p=++a){n=d[p];n.kind=BCGENTITY;n.pa=this;n.ix=p}return this};draw[BCGCOLUMNS]=function(a){return this.simpleIdeaTxt(a)};draw[BCGROWS]=function(a){return this.simpleIdeaTxt(a)};draw[BCG]=function(b){var i,d,m,n,j,h,e,l,c,a,k,f;n=this.startIdeaTxt(b);if((b===0)||(b>0&&!(this.frame!=null))){cvva.push(this);n+="<div style='position:relative'>";n+="<div id='bcg"+this.id+"'  class='bcgbag' style='position:absolute;top:0px;left:0px;vertical-align:bottom'>";n+="<table id='bag"+this.id+"'>";if(this.column!=null){n+="<thead>";n+="<tr>";if(this.row!=null){n+="<th>";n+="</th>";n+="<th>";n+="</th>"}n+="<th id='tbl"+this.column.id+"' colspan="+this.column.length+" style='text-align:center;'>";n+=this.column.draw(b+1);n+="</th>";n+="</tr>";n+="<tr>";if(this.row!=null){n+="<th>";n+="</th>";n+="<th>";n+="</th>"}k=this.column;for(j=0,l=k.length;j<l;j++){i=k[j];n+="<th id='tbl"+i.id+"'>";n+=i.draw(b+1);n+="</th>"}n+="</thead>"}f=this.data;for(m=h=0,c=f.length;h<c;m=++h){d=f[m];n+="<tr>";if(this.row!=null){if(m===0){n+="<th id='tbl"+this.row.id+"' rowspan="+this.row.length+" style=''>";n+=this.row.draw(b+1);n+="</th>"}n+="<th id='tbl"+this.row[m].id+"'>";n+=this.row[m].draw(b+1);n+="</th>"}for(e=0,a=d.length;e<a;e++){i=d[e];n+="<td id='tbl"+i.id+"'>";n+=i.draw(b+1);n+="</td>"}n+="</tr>"}n+="</table>";n+="</div>";n+="<div style='position:absolute;top:0px;left:0px'>"}n+=this.endIdeaTxt(b);return n};shape[BCGENTITY]=function(a,e,b,d){var c;return c="M "+a+" "+e+"				m "+(-b/2)+" 0 a "+(b/2)+" "+(d/2)+" 0 0 0 "+b+" 0 a "+(b/2)+" "+(d/2)+" 0 0 0 "+(-b)+" 0 z"};svg[BCG]=function(f){var e,d,b,c,a;console.log($("#bcg"+this.id).outerWidth(true),$("#bcg"+this.id).outerHeight(true));ppr[this.id]=Raphael("pap"+this.id,$("#bcg"+this.id).outerWidth(true),$("#bcg"+this.id).outerHeight(true));v[this.id]={};v[this.id].ppr=ppr[this.id];v[this.id].ww=$("#bcg"+this.id).outerWidth(true);v[this.id].hh=$("#bcg"+this.id).outerHeight(true);v[this.id].sw=$("#tbl"+this.row.id).outerWidth(true)+$("#tbl"+this.row[0].id).outerWidth(true);v[this.id].sh=$("#tbl"+this.column.id).outerHeight(true)+$("#tbl"+this.column[0].id).outerHeight(true);console.log(v[this.id].sh,v[this.id].hh);v[this.id].w=v[this.id].ww-v[this.id].sw;v[this.id].h=v[this.id].hh-v[this.id].sh;c=this.entity;a=[];for(d=0,b=c.length;d<b;d++){e=c[d];v[e.id]={};v[e.id].ppr=ppr[this.id];v[e.id].x=e.x*v[this.id].w+v[this.id].sw;v[e.id].y=e.y*v[this.id].h+v[this.id].sh;v[e.id].w=e.r*v[this.id].w;v[e.id].h=e.r*v[this.id].h;a.push(e.bcgdraw())}return a};Idea.prototype.bcgdraw=function(){if(g[this.id]!=null){}else{g[this.id]=v[this.id].ppr.path(this.shape(v[this.id].x,v[this.id].y,v[this.id].w,v[this.id].h));g[this.id].attr({stroke:"#888","stroke-opacity":0.5,"stroke-width":1,fill:"90-#FF9-#FFE","fill-opacity":1});g[this.id].data("id",this.id);g[this.id].click(ideaClick);$("#bag"+this.id).css("position","absolute");$("#bag"+this.id).css("top",v[this.id].y-v[this.id].h/2);return $("#bag"+this.id).css("left",v[this.id].x-v[this.id].w/2)}};childkind[BCGCELL]=function(){return IDEA};childkind[BCGROW]=function(){return IDEA};childkind[BCGCOLUMN]=function(){return IDEA};childkind[BCGROWS]=function(){return BCGROW};childkind[BCGCOLUMNS]=function(){return BCGCOLUMNS};childkind[BCGENTITY]=function(){return null};keyp[BCG]={};keyp[BCGROWS]={};keyp[BCGROW]={};keyp[BCGCOLUMNS]={};keyp[BCGCOLUMN]={};keyp[BCGCELL]={};keyp[BCGENTITY]={};